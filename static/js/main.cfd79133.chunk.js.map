{"version":3,"sources":["App.module.css","components/Filter/Filter.module.css","components/Books/Book/Book.module.scss","api/api.js","reducers/books-reducer.js","components/Preloader/Preloader.jsx","reducers/cart-reducer.js","reducers/filter-reducer.js","components/Header/Header.jsx","components/Books/Book/Book.jsx","components/Books/Books.jsx","components/Filter/Filter.jsx","components/Content/Content.jsx","App.jsx","reducers/store.js","index.jsx","components/Header/Header.module.css","components/Content/Container.module.css"],"names":["module","exports","booksAPI","axios","get","then","res","data","initialState","isLoaded","books","setBooksAC","items","type","payload","setBooks","dispatch","a","response","e","console","log","Preloader","LinearProgress","color","totalPrice","filterBy","searchQuery","searchedBooks","setFilterAC","filter","Header","useSelector","state","cart","cartItems","cartItemsUniq","uniqBy","o","id","useDispatch","useState","isCartOpen","setIsCartOpen","AppBar","position","Toolbar","className","s","appBar","IconButton","edge","onClick","Typography","variant","noWrap","style","marginRight","Badge","badgeContent","length","total","menu","map","item","itemCartMenu","src","image","title","slice","deleteButton","Divider","Book","author","price","rating","book","addedBooks","reduce","count","Grid","Card","CardActionArea","imageDiv","alt","Rating","name","defaultValue","size","button","Button","Books","allBooks","store","isNotFound","container","Container","direction","justify","alignItems","spacing","margin","xl","useStyles","makeStyles","theme","root","display","paper","Filter","handleItemClick","method","undefined","orderBy","sortPrice","search","noValidate","autoComplete","TextField","value","onChange","currentTarget","result","toLowerCase","indexOf","setSearchedBooksAC","placeholder","InputProps","endAdornment","InputAdornment","fontSize","active","Content","col1","App","useEffect","reducers","combineReducers","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleWare","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cfd79133.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__35vr9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__3QCsi\",\"item\":\"Filter_item__1AUlS\",\"active\":\"Filter_active__1NlVU\",\"search\":\"Filter_search__2E2Qu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"book\":\"Book_book__1f2rc\",\"price\":\"Book_price__1J7Fx\",\"title\":\"Book_title__3A7Ba\",\"imageDiv\":\"Book_imageDiv__2eA6Q\",\"image\":\"Book_image__1Pbfz\",\"author\":\"Book_author__3vLwL\",\"rating\":\"Book_rating__2DXcm\",\"button\":\"Book_button__tCh10\"};","import axios from 'axios'\r\n\r\n\r\n\r\nexport const booksAPI = {\r\n    getBooks() {\r\n        return axios.get('http://localhost:3000/books.json').then(res=>res.data)\r\n    },\r\n\r\n}\r\n\r\n","import {booksAPI} from \"../api/api\";\r\n\r\n\r\nconst initialState = {\r\n    isLoaded: false,\r\n    books: null,\r\n}\r\n\r\nexport const bookReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_BOOKS': {\r\n            return {\r\n                ...state,\r\n                books: action.payload,\r\n                isLoaded: true,\r\n            }\r\n        }\r\n        case 'SET_IS_READY': {\r\n            return {\r\n                ...state, isLoaded: action.payload.isLoaded\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//actions\r\n\r\nexport const setBooksAC = (items) => ({\r\n    type: 'SET_BOOKS',\r\n    payload: items\r\n})\r\n\r\n\r\n//thunks\r\n\r\nexport const setBooks = () => async (dispatch) => {\r\n    const response = await booksAPI.getBooks()\r\n    try {\r\n        dispatch(setBooksAC(response))\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\nimport s from './Preloader.module.css'\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div>\r\n            <LinearProgress color=\"secondary\"/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Preloader;","const initialState = {\r\n    items: [],\r\n    totalPrice:null\r\n}\r\n\r\n\r\nexport const cartReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_BOOK': {\r\n            return {\r\n                ...state,\r\n                items: [...state.items, action.payload]\r\n            }\r\n        }\r\n        case 'REMOVE_BOOK': {\r\n            return {\r\n                ...state,\r\n                items: state.items.filter(book=>book.id !== action.payload)\r\n            }\r\n        }\r\n        case 'TOTAL_PRICE':{\r\n            return {\r\n            ...state,\r\n            totalPrice: [state.items.reduce((total, book)=> total+ book.price, 0)]\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const addBookAC = (items) => ({\r\n    type: 'ADD_BOOK',\r\n    payload: items\r\n})\r\nexport const removeBookAC = (id) => ({\r\n    type: 'REMOVE_BOOK',\r\n    payload: id\r\n})\r\nexport const setTotalPriceAC = (items) => ({\r\n    type: 'TOTAL_PRICE',\r\n    payload: items\r\n})\r\n","const initialState = {\r\n    filterBy: 'all',\r\n    searchQuery:'',\r\n    searchedBooks:[]\r\n}\r\n\r\nexport const filterReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_FILTER': {\r\n            return {\r\n                ...state,\r\n                filterBy: action.payload\r\n            }\r\n        }\r\n        case 'SET_QUERY': {\r\n            return {\r\n                ...state,\r\n                searchQuery: action.payload\r\n            }\r\n        }\r\n\r\n        case 'SET_SEARCHED_BOOKS': {\r\n            return {\r\n                ...state,\r\n                searchedBooks: action.payload\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//actions\r\nexport const setFilterAC = (filter) => ({\r\n    type: 'SET_FILTER',\r\n    payload: filter\r\n})\r\nexport const setQuery = (value) => ({\r\n    type: 'SET_QUERY',\r\n    payload: value\r\n})\r\nexport const setSearchedBooksAC = (books) => ({\r\n    type: 'SET_SEARCHED_BOOKS',\r\n    payload: books\r\n})\r\n\r\n\r\n//thunks\r\n","import React, {useEffect, useState} from 'react';\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ShoppingCartOutlinedIcon from '@material-ui/icons/ShoppingCartOutlined';\r\nimport s from './Header.module.css'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport {removeBookAC, setTotalPriceAC} from \"../../reducers/cart-reducer\";\r\nimport Badge from '@material-ui/core/Badge';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport {setBooks} from \"../../reducers/books-reducer\";\r\nimport {setFilterAC} from \"../../reducers/filter-reducer\";\r\nimport {Divider} from '@material-ui/core';\r\nimport uniqBy from 'lodash/uniqBy'\r\n\r\n\r\nconst Header = () => {\r\n\r\n\r\n    const totalPrice = useSelector(state => state.cart.totalPrice)\r\n    const cartItems = useSelector(state => state.cart.items)\r\n    const cartItemsUniq = uniqBy(cartItems, o => o.id)\r\n\r\n    const isLoaded = useSelector(state => state.books.isLoaded)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    // useEffect(() => {\r\n    //     dispatch(setTotalPriceAC(totalPrice))\r\n    // }, [cartItems.length])\r\n\r\n    const [isCartOpen, setIsCartOpen] = useState(false)\r\n\r\n\r\n    const toggleCartMenu = () => {\r\n        setIsCartOpen(!isCartOpen)\r\n    }\r\n\r\n\r\n    const toHomePageClick = () => {\r\n        dispatch(setBooks())\r\n        dispatch(setFilterAC('all'))\r\n    }\r\n    return (\r\n        <div>\r\n            <AppBar position={'relative'}>\r\n                <Toolbar className={s.appBar}>\r\n\r\n                    <IconButton\r\n                        edge=\"start\"\r\n                        color=\"inherit\"\r\n                        onClick={toHomePageClick}\r\n                    >\r\n                        <LibraryBooksIcon/>\r\n                        <Typography variant=\"h6\" noWrap>\r\n                            BookToBuy\r\n                        </Typography>\r\n                    </IconButton>\r\n                    <div className={s.cart}>\r\n                        <IconButton style={{marginRight: '10px'}} onClick={toggleCartMenu}>\r\n                            <Badge badgeContent={cartItems.length} color=\"secondary\">\r\n                                <ShoppingCartOutlinedIcon style={{color: 'white'}}/>\r\n                            </Badge>\r\n                            <span className={s.total}> {totalPrice} ₽ </span>\r\n                        </IconButton>\r\n                    </div>\r\n\r\n                    {\r\n                        isCartOpen\r\n                        &&\r\n                        <div className={s.menu}>\r\n                            {cartItemsUniq.map((item) => {\r\n                                return <>\r\n\r\n                                    <div className={s.itemCartMenu}>\r\n                                        <img src={item.image}/>\r\n                                        <span className={s.title}>\r\n                                        {item.title.length > 25 ? item.title.slice(0, 25) + '...' : item.title}\r\n                                    </span>\r\n                                        <IconButton className={s.deleteButton}>\r\n                                            <DeleteIcon onClick={()=>dispatch(removeBookAC(item.id))}/>\r\n                                        </IconButton>\r\n                                    </div>\r\n                                    <Divider/>\r\n                                </>\r\n                            })\r\n                            }\r\n\r\n\r\n                        </div>}\r\n\r\n                </Toolbar>\r\n\r\n            </AppBar>\r\n            {\r\n                !isLoaded && <Preloader/>\r\n            }\r\n        </div>\r\n\r\n\r\n    );\r\n\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport s from './Book.module.scss'\r\nimport Card from \"@material-ui/core/Card\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {CardActionArea} from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {addBookAC} from \"../../../reducers/cart-reducer\";\r\n\r\n\r\nconst Book = ({id, title, author, image, price, rating, book}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const cartItems = useSelector(state => state.cart.items)\r\n    const addedBooks = cartItems.reduce((count, book) => count + (book.id === id ? 1 : 0),0)\r\n\r\n    const addBookToCart = () => {\r\n        dispatch(addBookAC(book))\r\n    }\r\n\r\n    return (\r\n        <Grid\r\n            item\r\n\r\n        >\r\n            <Card\r\n                className={s.book}\r\n            >\r\n                <CardActionArea>\r\n\r\n                    <Typography className={s.title}>\r\n                        {title.length > 50 ? `${title.slice(0, 50) + '...'}` : title}\r\n                    </Typography>\r\n                    <div className={s.price}>\r\n                        {price} ₽\r\n                    </div>\r\n                    <div className={s.imageDiv}>\r\n                        <img src={image} className={s.image} alt=\"\"/>\r\n                    </div>\r\n                    <Divider/>\r\n                    <Typography className={s.author}>\r\n                        {author}\r\n                    </Typography>\r\n                    <Rating name=\"size-medium\" defaultValue={rating} size=\"small\" className={s.rating}/>\r\n\r\n                </CardActionArea>\r\n                <div className={s.button}>\r\n                    <Button onClick={addBookToCart} variant={\"outlined\"} size={'small'} color={\"secondary\"}>\r\n                        ADD TO SHOPPING CART {addedBooks > 0 && `(${addedBooks})`}\r\n                    </Button>\r\n                </div>\r\n\r\n\r\n            </Card>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Book;\r\n\r\n ","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport Book from \"./Book/Book\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport s from './Books.module.css'\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\n\r\nconst Books = () => {\r\n    const allBooks = useSelector(store => store.books.books)\r\n    const searchedBooks = useSelector(state => state.filter.searchedBooks)\r\n    const searchQuery = useSelector(state => state.filter.searchQuery)\r\n    const books = searchQuery.length ? searchedBooks : allBooks\r\n    const isNotFound = searchQuery.length && !searchedBooks.length\r\n\r\n\r\n    return (\r\n        <div className={s.container}>\r\n            <Container>\r\n                <Grid\r\n                    container\r\n                    direction=\"row\"\r\n                    justify=\"center\"\r\n                    alignItems=\"center\"\r\n                    spacing={2}\r\n                    style={{margin: '0px'}}\r\n                    xl={12}\r\n                >\r\n                    {\r\n                        books\r\n                        &&\r\n                        books.map(book => {\r\n                            return <Book\r\n                                key={book.id}\r\n                                id={book.id}\r\n                                title={book.title}\r\n                                author={book.author}\r\n                                image={book.image}\r\n                                price={book.price}\r\n                                rating={book.rating}\r\n                                book={book}\r\n                            />\r\n                        })\r\n                    }\r\n                    {isNotFound && <span>Sorry we could not find any book</span>}\r\n\r\n                </Grid>\r\n            </Container>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Books;","import React, {useEffect} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport s from './Filter.module.css'\r\nimport {setBooks, setBooksAC} from \"../../reducers/books-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport orderBy from 'lodash/orderBy'\r\nimport {setFilterAC, setQuery, setSearchedBooksAC} from \"../../reducers/filter-reducer\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n\r\n    },\r\n    paper: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n}));\r\n\r\n\r\nfunction Filter() {\r\n    const dispatch = useDispatch()\r\n    const classes = useStyles();\r\n\r\n    let books = useSelector(state => state.books.books)\r\n    const filter = useSelector(state => state.filter.filterBy)\r\n    const searchQuery = useSelector(state => state.filter.searchQuery)\r\n\r\n\r\n\r\n    const onChangeSearchHandler = (e) => {\r\n        const searchQuery = e.currentTarget.value\r\n        dispatch(setQuery(searchQuery))\r\n            let result = books.filter(book => {\r\n                return book.title.toLowerCase().indexOf(searchQuery) >= 0 || book.author.toLowerCase().indexOf(searchQuery) >= 0\r\n            })\r\n            dispatch(setSearchedBooksAC(result))\r\n    }\r\n\r\n    // useEffect(() => {\r\n    //     dispatch(setBooksAC(books))\r\n    // }, [searchQuery])\r\n\r\n    const sortPrice = (type, method) => {\r\n        return orderBy(books, type, method)\r\n    }\r\n    function handleItemClick(filter, type, method) {\r\n        if (type === undefined) {\r\n            dispatch(setBooks())\r\n        }\r\n        dispatch(setFilterAC(filter))\r\n        dispatch(setBooksAC(sortPrice(type, method)))\r\n    }\r\n\r\n    return (\r\n\r\n        <Container>\r\n            <form className={s.search} noValidate autoComplete=\"off\">\r\n                <TextField\r\n                    value={searchQuery}\r\n                    onChange={onChangeSearchHandler}\r\n                    placeholder={'Search...'}\r\n                    variant=\"standard\"\r\n                    color=\"primary\"\r\n                    InputProps={{\r\n                        endAdornment: (\r\n                            <InputAdornment>\r\n                                <SearchIcon style={{fontSize: '1.1em'}}/>\r\n                            </InputAdornment>\r\n                        )\r\n                    }}\r\n                />\r\n            </form>\r\n            <div className={s.filter}>\r\n\r\n                <Button\r\n                    onClick={() => handleItemClick('all')}\r\n                    className={filter === 'all' ? `${s.active} ${s.item}` : s.item}>\r\n                    All\r\n                </Button>\r\n                <Button\r\n                    onClick={() => handleItemClick('popular', 'rating', 'desc')}\r\n                    className={filter === 'popular' ? `${s.active} ${s.item}` : s.item}>\r\n                    Popular\r\n                </Button>\r\n                <Button\r\n                    onClick={() => handleItemClick('author', 'author', 'asc')}\r\n                    className={filter === 'author' ? `${s.active} ${s.item}` : s.item}>\r\n                    By author\r\n                </Button>\r\n                <Button\r\n                    onClick={() => handleItemClick('low', 'price', 'asc')}\r\n                    className={filter === 'low' ? `${s.active} ${s.item}` : s.item}>\r\n                    Low price\r\n                </Button>\r\n                <Button\r\n                    onClick={() => handleItemClick('high', 'price', 'desc')}\r\n                    className={filter === 'high' ? `${s.active} ${s.item}` : s.item}>\r\n                    High price\r\n                </Button>\r\n\r\n\r\n            </div>\r\n\r\n\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Filter;","import React from 'react';\r\nimport Books from \"../Books/Books\";\r\nimport Filter from \"../Filter/Filter\";\r\nimport s from './Container.module.css'\r\n\r\nconst Content = () => {\r\n    return (\r\n        <div className={s.container}>\r\n\r\n            <div className={s.col1}>\r\n                <Filter/>\r\n                <Books/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Content;","import React, {useEffect} from 'react';\nimport {useDispatch} from 'react-redux'\nimport {setBooks} from \"./reducers/books-reducer\";\nimport Header from \"./components/Header/Header\";\nimport s from './App.module.css'\nimport Content from \"./components/Content/Content\";\nimport Button from \"@material-ui/core/Button\";\n\n\nfunction App() {\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(setBooks())\n    }, [])\n\n    return (\n        <div className={s.container}>\n            <Header/>\n            <Content/>\n        </div>\n    );\n}\n\n\nexport default App;\n","import {combineReducers, createStore, applyMiddleware, compose} from 'redux'\r\n\r\nimport thunkMiddleWare from 'redux-thunk';\r\nimport {bookReducer} from \"./books-reducer\";\r\nimport {cartReducer} from \"./cart-reducer\";\r\nimport {filterReducer} from \"./filter-reducer\";\r\n\r\nconst reducers = combineReducers({\r\n    books: bookReducer,\r\n    cart: cartReducer,\r\n    filter:filterReducer\r\n})\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n// @ts-ignore\r\nexport const store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleWare)));\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./reducers/store\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appBar\":\"Header_appBar__3vnaJ\",\"total\":\"Header_total__3ybMt\",\"cart\":\"Header_cart__26plb\",\"menu\":\"Header_menu__1DVbd\",\"itemCartMenu\":\"Header_itemCartMenu__3-wvY\",\"title\":\"Header_title__3WcTr\",\"deleteButton\":\"Header_deleteButton__35D7m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2xkbv\",\"col1\":\"Container_col1__1-Qre\",\"col2\":\"Container_col2__1fr-Q\"};"],"sourceRoot":""}